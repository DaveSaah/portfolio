---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { defaultLanguage, useTranslations, type LanguageCode } from '@/i18n/ui';
import {
  PortfolioScreen,
  getTranslatedProjects,
  getTranslatedSkills,
  type TranslatedSkill,
  type TranslatedProject,
  type TranslatedValue,
  getTranslatedValues,
} from '@/features/projects';

const lang =
  (Astro.currentLocale as LanguageCode | undefined) ?? defaultLanguage;
const t = useTranslations(lang, 'homePage');

const pageTitle = t('pageTitle');
const pageDescription = t('pageDescription');

const projects: Array<TranslatedProject> = getTranslatedProjects(lang);
const skills: Array<TranslatedSkill> = getTranslatedSkills(lang);
const values: Array<TranslatedValue> = getTranslatedValues(lang);

const layoutProps = {
  lang,
  projects,
  skills,
  values,
  heroGreeting: t('heroGreeting'),
  heroSubtitlePart1: t('heroSubtitlePart1'),
  heroSubtitlePart2: t('heroSubtitlePart2'),
  heroIntroduction: t('heroIntroduction'),
  heroViewWorkButton: t('heroViewWorkButton'),
  heroContactButton: t('heroContactButton'),
  imageNotAvailable: t('imageNotAvailable'),
  featuredProjectsTitle: t('featuredProjectsTitle'),
  featuredProjectsDescription: t('featuredProjectsDescription'),
  mySkillsTitle: t('mySkillsTitle'),
  mySkillsDescription: t('mySkillsDescription'),
  myValuesTitle: t('myValuesTitle'),
  myValuesDescription: t('myValuesDescription'),
  projectPreviewCtaText: t('projectCardViewProject'),
};
---

<BaseLayout pageTitle={pageTitle} pageDescription={pageDescription}>
  <PortfolioScreen {...layoutProps} />
</BaseLayout>
